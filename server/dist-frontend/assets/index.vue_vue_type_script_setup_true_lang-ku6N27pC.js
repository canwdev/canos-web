import{d as e,ad as l,_ as a,o as t,c as n,F as s,e as u,n as o,j as d,k as i,ah as r,l as p,r as c,w as m,f as v,v as y,b as f,ai as b,h as k,p as h,q as w,H as g,B as V,C as x,a as _,g as C,P as I,aj as U,ak as T,J as E,al as L,am as M,ac as N,an as S,ao as A,ap as B,aq as F,ar as D,as as R,m as H,at as O,au as P,av as z}from"./index-Ch1CAwop.js";import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                 */var j=(e=>(e.SWITCH="switch",e.MULTIPLE_SWITCH="multiple_switch",e.SLIDER="slider",e.SELECT="select",e.INPUT="input",e.INPUT_NUMBER="input_number",e.COLOR_PICKER="color_picker",e.DYNAMIC_TAGS="dynamic_tags",e.DATE_PICKER="date_picker",e))(j||{});const K=["#258292","#3A6EA5","#F0C869","#E81123","#e91e63","#FFFFFF","#000000","#007aff","#a2845e","#8e8e93","#28cd41","#5856d6","#ff9500","#ff2d55","#af52de","#ff3b30","#5ac8fa","#ffcc00"],q=e({name:"RectSwitch",props:{modelValue:{type:[Boolean,String,Number],default:!1},options:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},isLabelHtml:{type:Boolean,default:!1}},setup:(e,{emit:a})=>({mValue:l(e,a)})}),W=["onClick"],J=["innerHTML"];const G=a(q,[["render",function(e,l,a,r,p,c){return t(),n("div",{class:o(["rect-switch",{disabled:e.disabled}])},[(t(!0),n(s,null,u(e.options,(l=>(t(),n("div",{key:l.value,class:o(["r-item",{active:l.value===e.mValue}]),onClick:a=>e.mValue=l.value},[e.isLabelHtml?(t(),n("div",{key:0,innerHTML:l.label},null,8,J)):(t(),n(s,{key:1},[d(i(l.label||l.value),1)],64))],10,W)))),128))],2)}]]);const Y=e({name:"AdvancedNumberInput",props:{modelValue:{type:Number,required:!0},disabled:{type:Boolean,default:!1},isDebug:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},min:Number,max:Number,step:{type:Number,default:1},format:Function,parse:Function,marks:{type:Object}},setup(e,{emit:l}){const{marks:a,step:t,min:n,max:s,modelValue:u,readonly:o,disabled:d}=r(e),i=p({get:()=>e.modelValue,set:e=>l("update:modelValue",e)}),v=p((()=>{if(!a.value)return null;const e=[];return Object.keys(a.value).forEach((l=>{e.push(Number(l))})),e.sort(((e,l)=>e-l))})),y=e=>{const l=v.value;if(l){let a=l.findIndex((e=>e===i.value));if(a<0){a=function(e,l){let a=-1,t=l[0],n=Math.abs(e-l[0]);for(let s=1;s<l.length;s++){const u=Math.abs(e-l[s]);u<n&&(a=s,t=l[s],n=u)}return{index:a,value:t}}(i.value,l).index,a<0&&(console.error("number not found!",{idx:a,numbers:l,mValue:i.value,isNext:e}),a=0)}if(e){if(void 0!==l[a+1])return l[a+1]}else if(void 0!==l[a-1])return l[a-1]}return null},f=p((()=>{if(v.value)return y(!0);const e=s.value,l=(a=i.value,n=t.value,a+n);var a,n;return void 0!==e?l<=e?l:null:l})),b=p((()=>null!==f.value)),k=p((()=>{if(v.value)return y(!1);const e=n.value,l=(a=i.value,s=t.value,a-s);var a,s;return void 0!==e?l>=e?l:null:l})),h=p((()=>null!==k.value)),w=c(""),g=l=>e.format?e.format(l):String(l);m(u,(e=>{w.value=g(e)}),{immediate:!0});const V=()=>{if(o.value||d.value)return;let l;l=e.parse?e.parse(String(w.value))||0:Number(w.value)||0,void 0!==e.max&&l>e.max&&(l=e.max),void 0!==e.min&&l<e.min&&(l=e.min),e.step&&(l=Math.round(l/e.step)*e.step),i.value=l,w.value=g(l)},x=c(!1);return{mValue:i,handleUp:()=>{b.value&&!e.disabled&&(i.value=f.value)},handleDown:()=>{h.value&&!e.disabled&&(i.value=k.value)},isAllowUp:b,isAllowDown:h,nextUpValue:f,nextDownValue:k,marksNumberArray:v,inputValue:w,handleBlur:()=>{V(),x.value=!1},handleEnter:V,handleFocus:()=>{x.value=!0},isFocused:x}}}),$=e=>(h("data-v-5f011c1e"),e=e(),w(),e),Q=["readonly","disabled"],X={key:0,class:"debug-val"},Z={class:"toggle-wrap"},ee=["disabled"],le=[$((()=>f("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 12 12"},[f("g",{fill:"none"},[f("path",{d:"M2.146 7.354a.5.5 0 0 0 .708 0L6 4.207l3.146 3.147a.5.5 0 1 0 .708-.708l-3.5-3.5a.5.5 0 0 0-.708 0l-3.5 3.5a.5.5 0 0 0 0 .708z",fill:"currentColor"})])],-1)))],ae=["disabled"],te=[$((()=>f("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 12 12"},[f("g",{fill:"none"},[f("path",{d:"M2.146 4.646a.5.5 0 0 1 .708 0L6 7.793l3.146-3.147a.5.5 0 1 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 0 1 0-.708z",fill:"currentColor"})])],-1)))];const ne=a(Y,[["render",function(e,l,a,s,u,d){return t(),n("div",{class:o(["advanced-number-input",{disabled:e.disabled,focused:e.isFocused}])},[v(f("input",{"onUpdate:modelValue":l[0]||(l[0]=l=>e.inputValue=l),type:"text",class:"text-input",readonly:e.readonly,onFocus:l[1]||(l[1]=(...l)=>e.handleFocus&&e.handleFocus(...l)),onBlur:l[2]||(l[2]=(...l)=>e.handleBlur&&e.handleBlur(...l)),onKeyup:[l[3]||(l[3]=b(((...l)=>e.handleEnter&&e.handleEnter(...l)),["enter"])),l[4]||(l[4]=b(((...l)=>e.handleUp&&e.handleUp(...l)),["up"])),l[5]||(l[5]=b(((...l)=>e.handleDown&&e.handleDown(...l)),["down"]))],disabled:e.disabled},null,40,Q),[[y,e.inputValue]]),e.isDebug?(t(),n("div",X,i(e.modelValue),1)):k("",!0),f("div",Z,[f("button",{onClick:l[6]||(l[6]=(...l)=>e.handleUp&&e.handleUp(...l)),class:"btn-no-style btn-up",disabled:!e.isAllowUp||e.disabled},le,8,ee),f("button",{onClick:l[7]||(l[7]=(...l)=>e.handleDown&&e.handleDown(...l)),class:"btn-no-style btn-down",disabled:!e.isAllowDown||e.disabled},te,8,ae)])],2)}],["__scopeId","data-v-5f011c1e"]]),se={class:"dynamic-tags"},ue=a(e({__name:"DynamicTags",props:{modelValue:{default:[]}},emits:[],setup(e,{emit:l}){const a=e,o=l;r(a);const p=g(a,"modelValue",o),m=c(""),v=c(!1),y=c(),f=()=>{v.value=!0,I((()=>{y.value.input.focus()}))},k=()=>{m.value&&p.value.push(m.value),v.value=!1,m.value=""};return(e,l)=>{const a=U,o=T,r=E;return t(),n("div",se,[(t(!0),n(s,null,u(_(p),(e=>(t(),V(a,{key:e,closable:"","disable-transitions":!1,onClose:l=>(e=>{p.value.splice(p.value.indexOf(e),1)})(e)},{default:x((()=>[d(i(e),1)])),_:2},1032,["onClose"])))),128)),_(v)?(t(),V(o,{key:0,ref_key:"InputRef",ref:y,modelValue:_(m),"onUpdate:modelValue":l[0]||(l[0]=e=>C(m)?m.value=e:null),class:"w-20",size:"small",onKeyup:b(k,["enter"]),onBlur:k},null,8,["modelValue"])):(t(),V(r,{key:1,class:"button-new-tag",size:"small",onClick:f},{default:x((()=>[d(" + New Tag ")])),_:1}))])}}}),[["__scopeId","data-v-f92a799f"]]),oe=e({__name:"ItemAction",props:{item:{}},emits:["updateValue"],setup(e,{emit:l}){const a=e,{item:o}=r(a),d=l,i=L("sharedStore"),c=p({get(){const e=o.value.store||i.value;return e?e[o.value.key]:o.value.value},set(e){d("updateValue",{item:o.value,value:e});const l=o.value.store||i.value;l?l[o.value.key]=e:o.value.value=e}});return(e,l)=>{const a=S,d=T,i=A,r=B,p=F,m=D,v=R;return t(),V(v,{class:"option-item-action",size:"small",align:"center"},{default:x((()=>[_(o).type===_(j).SWITCH?(t(),V(a,M({key:0,modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=e=>c.value=e)},_(o).props),null,16,["modelValue"])):_(o).type===_(j).MULTIPLE_SWITCH?(t(),V(G,M({key:1,options:_(o).options,modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=e=>c.value=e)},_(o).props),null,16,["options","modelValue"])):_(o).type===_(j).INPUT?(t(),V(d,M({key:2,class:"option-select option-input",modelValue:c.value,"onUpdate:modelValue":l[2]||(l[2]=e=>c.value=e),clearable:""},_(o).props),null,16,["modelValue"])):_(o).type===_(j).SELECT?(t(),V(r,M({key:3,modelValue:c.value,"onUpdate:modelValue":l[3]||(l[3]=e=>c.value=e),placeholder:_(o).placeholder,class:"option-select",teleported:!1},_(o).props),{default:x((()=>[(t(!0),n(s,null,u(_(o).options,(e=>(t(),V(i,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},16,["modelValue","placeholder"])):_(o).type===_(j).DYNAMIC_TAGS?(t(),V(ue,M({key:4,class:"dynamic-tags",modelValue:c.value,"onUpdate:modelValue":l[4]||(l[4]=e=>c.value=e)},_(o).props),null,16,["modelValue"])):_(o).type===_(j).COLOR_PICKER?(t(),V(p,M({key:5,modelValue:c.value,"onUpdate:modelValue":l[5]||(l[5]=e=>c.value=e)},_(o).props,{predefine:_(K)}),null,16,["modelValue","predefine"])):_(o).type===_(j).INPUT_NUMBER?(t(),V(ne,M({key:6,modelValue:c.value,"onUpdate:modelValue":l[6]||(l[6]=e=>c.value=e),disabled:_(o).disabled},_(o).props),null,16,["modelValue","disabled"])):_(o).type===_(j).DATE_PICKER?(t(),V(m,M({key:7,modelValue:c.value,"onUpdate:modelValue":l[7]||(l[7]=e=>c.value=e),disabled:_(o).disabled,class:"option-select"},_(o).props),null,16,["modelValue","disabled"])):k("",!0),_(o).actionRender?(t(),V(N,{key:8,"render-fn":_(o).actionRender},null,8,["render-fn"])):k("",!0)])),_:1})}}}),de=["data-key"],ie={class:"panel-header vp-bg"},re=["title"],pe={class:"item-label"},ce={class:"p-right"},me={style:{width:"20px",height:"20px"},xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},ve=[f("g",{fill:"none"},[f("path",{d:"M15.794 7.733a.75.75 0 0 1-.026 1.06l-5.25 5.001a.75.75 0 0 1-1.035 0l-5.25-5a.75.75 0 0 1 1.034-1.087l4.734 4.509l4.733-4.51a.75.75 0 0 1 1.06.027z",fill:"currentColor"})],-1)],ye={key:0,class:"panel-body"},fe=["data-key","onClick"],be={class:"o-left"},ke=["title"],he=["title"],we=["src"],ge=["title"],Ve={class:"item-title-wrap"},xe={class:"item-label-wrap"},_e={class:"item-label"},Ce={style:{width:"16px",height:"16px"},xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},Ie=[f("g",{fill:"none"},[f("path",{d:"M10 2a8 8 0 1 1 0 16a8 8 0 0 1 0-16zm0 1a7 7 0 1 0 0 14a7 7 0 0 0 0-14zm0 10.5a.75.75 0 1 1 0 1.5a.75.75 0 0 1 0-1.5zm0-8a2.5 2.5 0 0 1 1.651 4.377l-.154.125l-.219.163l-.087.072a1.968 1.968 0 0 0-.156.149c-.339.36-.535.856-.535 1.614a.5.5 0 0 1-1 0c0-1.012.293-1.752.805-2.298a3.11 3.11 0 0 1 .356-.323l.247-.185l.118-.1A1.5 1.5 0 1 0 8.5 8a.5.5 0 0 1-1 .001A2.5 2.5 0 0 1 10 5.5z",fill:"currentColor"})],-1)],Ue=["innerHTML"],Te=["innerHTML"],Ee={class:"o-right"},Le=e({__name:"OptionItem",props:{item:{},foldedKeyMap:{default:{}}},emits:["onToggleExpand","updateValue"],setup(e,{emit:l}){const a=e,{item:d,foldedKeyMap:c}=r(a),m=l,y=p((()=>!c.value[d.value.key]));return(e,l)=>{const a=P;return t(),n("div",{class:o(["c-panel-item",[_(d).cls]]),"data-key":_(d).key},[f("div",ie,[f("div",{class:"p-left",title:_(d).label},[f("div",pe,i(_(d).label),1)],8,re),f("div",ce,[!_(d).hideExpandIcon&&_(d).children&&_(d).children.length?(t(),n("div",{key:0,class:o(["btn-no-style btn-toggle-expand",{expanded:_(y)}]),onClick:l[0]||(l[0]=l=>e.$emit("onToggleExpand",_(d)))},[(t(),n("svg",me,ve))],2)):k("",!0),H(oe,{item:_(d),onUpdateValue:l[1]||(l[1]=e=>m("updateValue",e))},null,8,["item"])])]),_(d).children&&_(d).children.length?v((t(),n("div",ye,[(t(!0),n(s,null,u(_(d).children,(e=>(t(),n("div",M({key:e.key,class:["sub-item",[{clickable:e.clickFn},e.cls]],"data-key":e.key,onClick:l=>{return a=l,void("function"==typeof(t=e.clickFn)&&t(a,d.value));var a,t}},e.itemProps),[e.render?(t(),V(N,{key:0,"render-fn":e.render},null,8,["render-fn"])):(t(),n(s,{key:1},[f("div",be,[e.iconRender?(t(),n("div",{key:0,class:"item-icon",title:e.label},[H(N,{"render-fn":e.iconRender},null,8,["render-fn"])],8,ke)):e.icon?(t(),n("div",{key:1,class:"item-icon",title:e.label},[f("img",{src:e.icon,alt:"icon"},null,8,we)],8,he)):e.iconClass?(t(),n("div",{key:2,class:"item-icon",title:e.label},[f("i",{class:o(e.iconClass)},null,2)],8,ge)):k("",!0),f("div",Ve,[f("div",xe,[f("span",_e,i(e.label),1),e.tips?(t(),V(a,{key:0,effect:"light"},{content:x((()=>[f("span",{innerHTML:e.tips},null,8,Ue)])),default:x((()=>[(t(),n("svg",Ce,Ie))])),_:2},1024)):k("",!0)]),e.subtitle?(t(),n("div",{key:0,class:"item-subtitle",innerHTML:e.subtitle},null,8,Te)):k("",!0)])]),f("div",Ee,[H(oe,{item:e,onUpdateValue:l[2]||(l[2]=e=>m("updateValue",e))},null,8,["item"])])],64))],16,fe)))),128))],512)),[[O,_(y)]]):k("",!0)],10,de)}}}),Me={class:"option-ui"},Ne=e({name:"OptionUI",props:{optionList:{},store:{},expandId:{default:""}},emits:["onToggleExpand","updateValue"],setup(e,{emit:l}){const a="option_ui_folded_key_map",o=e,{expandId:d,store:i}=r(o),p=l;z("sharedStore",i);const m=c(JSON.parse(localStorage.getItem(a+d.value)||"null")||{}),y=e=>{m.value[e.key]?delete m.value[e.key]:m.value[e.key]=!0,localStorage.setItem(a+d.value,JSON.stringify(m.value))};return(e,l)=>(t(),n("div",Me,[(t(!0),n(s,null,u(e.optionList,(e=>v((t(),V(Le,{item:e,key:e.key,"folded-key-map":_(m),onOnToggleExpand:y,onUpdateValue:l[0]||(l[0]=e=>p("updateValue",e))},null,8,["item","folded-key-map"])),[[O,!e.hidden]]))),128))]))}});export{j as S,Ne as _};
