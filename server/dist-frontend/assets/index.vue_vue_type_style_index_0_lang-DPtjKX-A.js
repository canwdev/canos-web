import{b7 as e,aG as t,d as a,ac as r,ah as o,l,_ as n,D as i,o as u,B as s,b1 as d,C as c,m,am as p,c as y,e as f,F as v,j as b,k as h,h as _,n as g,aF as V,ak as O,b8 as k,ao as j,ap as T,aq as A,J as I,ar as C,a6 as F,b9 as R,an as U,ba as P,bb as w,bc as E,r as S,O as $,aB as z,f as B,at as N,b as x,aD as L,a as M,ae as D,aJ as G,bd as K}from"./index-Ch1CAwop.js";/* empty css                  *//* empty css                 *//* empty css                        */import{V as H}from"./index-qFWBhN92.js";var q=(e=>(e.INPUT="input",e.MONACO_EDITOR="monaco_editor",e.INPUT_NUMBER="input_number",e.SELECT="select",e.COLOR_PICKER="color_picker",e.BUTTON="button",e.DATE_PICKER="date_picker",e.CHECKBOX_GROUP="checkbox_group",e.RADIO_GROUP="radio_group",e.SWITCH="switch",e))(q||{}),W=Array.isArray,J="object"==typeof e&&e&&e.Object===Object&&e,X="object"==typeof self&&self&&self.Object===Object&&self,Q=J||X||Function("return this")(),Y=Q.Symbol,Z=Y,ee=Object.prototype,te=ee.hasOwnProperty,ae=ee.toString,re=Z?Z.toStringTag:void 0;var oe=function(e){var t=te.call(e,re),a=e[re];try{e[re]=void 0;var r=!0}catch(l){}var o=ae.call(e);return r&&(t?e[re]=a:delete e[re]),o},le=Object.prototype.toString;var ne=oe,ie=function(e){return le.call(e)},ue=Y?Y.toStringTag:void 0;var se=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ue&&ue in Object(e)?ne(e):ie(e)};var de=se,ce=function(e){return null!=e&&"object"==typeof e};var me=function(e){return"symbol"==typeof e||ce(e)&&"[object Symbol]"==de(e)},pe=W,ye=me,fe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ve=/^\w*$/;var be=function(e,t){if(pe(e))return!1;var a=typeof e;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=e&&!ye(e))||(ve.test(e)||!fe.test(e)||null!=t&&e in Object(t))};var he=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},_e=se,ge=he;var Ve,Oe=function(e){if(!ge(e))return!1;var t=_e(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},ke=Q["__core-js_shared__"],je=(Ve=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||""))?"Symbol(src)_1."+Ve:"";var Te=function(e){return!!je&&je in e},Ae=Function.prototype.toString;var Ie=Oe,Ce=Te,Fe=he,Re=function(e){if(null!=e){try{return Ae.call(e)}catch(t){}try{return e+""}catch(t){}}return""},Ue=/^\[object .+?Constructor\]$/,Pe=Function.prototype,we=Object.prototype,Ee=Pe.toString,Se=we.hasOwnProperty,$e=RegExp("^"+Ee.call(Se).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ze=function(e){return!(!Fe(e)||Ce(e))&&(Ie(e)?$e:Ue).test(Re(e))},Be=function(e,t){return null==e?void 0:e[t]};var Ne=function(e,t){var a=Be(e,t);return ze(a)?a:void 0},xe=Ne(Object,"create"),Le=xe;var Me=function(){this.__data__=Le?Le(null):{},this.size=0};var De=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ge=xe,Ke=Object.prototype.hasOwnProperty;var He=function(e){var t=this.__data__;if(Ge){var a=t[e];return"__lodash_hash_undefined__"===a?void 0:a}return Ke.call(t,e)?t[e]:void 0},qe=xe,We=Object.prototype.hasOwnProperty;var Je=xe;var Xe=Me,Qe=De,Ye=He,Ze=function(e){var t=this.__data__;return qe?void 0!==t[e]:We.call(t,e)},et=function(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=Je&&void 0===t?"__lodash_hash_undefined__":t,this};function tt(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}tt.prototype.clear=Xe,tt.prototype.delete=Qe,tt.prototype.get=Ye,tt.prototype.has=Ze,tt.prototype.set=et;var at=tt;var rt=function(){this.__data__=[],this.size=0};var ot=function(e,t){return e===t||e!=e&&t!=t},lt=ot;var nt=function(e,t){for(var a=e.length;a--;)if(lt(e[a][0],t))return a;return-1},it=nt,ut=Array.prototype.splice;var st=nt;var dt=nt;var ct=nt;var mt=rt,pt=function(e){var t=this.__data__,a=it(t,e);return!(a<0)&&(a==t.length-1?t.pop():ut.call(t,a,1),--this.size,!0)},yt=function(e){var t=this.__data__,a=st(t,e);return a<0?void 0:t[a][1]},ft=function(e){return dt(this.__data__,e)>-1},vt=function(e,t){var a=this.__data__,r=ct(a,e);return r<0?(++this.size,a.push([e,t])):a[r][1]=t,this};function bt(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}bt.prototype.clear=mt,bt.prototype.delete=pt,bt.prototype.get=yt,bt.prototype.has=ft,bt.prototype.set=vt;var ht=bt,_t=Ne(Q,"Map"),gt=at,Vt=ht,Ot=_t;var kt=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var jt=function(e,t){var a=e.__data__;return kt(t)?a["string"==typeof t?"string":"hash"]:a.map},Tt=jt;var At=jt;var It=jt;var Ct=jt;var Ft=function(){this.size=0,this.__data__={hash:new gt,map:new(Ot||Vt),string:new gt}},Rt=function(e){var t=Tt(this,e).delete(e);return this.size-=t?1:0,t},Ut=function(e){return At(this,e).get(e)},Pt=function(e){return It(this,e).has(e)},wt=function(e,t){var a=Ct(this,e),r=a.size;return a.set(e,t),this.size+=a.size==r?0:1,this};function Et(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}Et.prototype.clear=Ft,Et.prototype.delete=Rt,Et.prototype.get=Ut,Et.prototype.has=Pt,Et.prototype.set=wt;var St=Et;function $t(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var a=function(){var r=arguments,o=t?t.apply(this,r):r[0],l=a.cache;if(l.has(o))return l.get(o);var n=e.apply(this,r);return a.cache=l.set(o,n)||l,n};return a.cache=new($t.Cache||St),a}$t.Cache=St;var zt=$t;var Bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nt=/\\(\\)?/g,xt=function(e){var t=zt(e,(function(e){return 500===a.size&&a.clear(),e})),a=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Bt,(function(e,a,r,o){t.push(r?o.replace(Nt,"$1"):a||e)})),t}));var Lt=function(e,t){for(var a=-1,r=null==e?0:e.length,o=Array(r);++a<r;)o[a]=t(e[a],a,e);return o},Mt=W,Dt=me,Gt=Y?Y.prototype:void 0,Kt=Gt?Gt.toString:void 0;var Ht=function e(t){if("string"==typeof t)return t;if(Mt(t))return Lt(t,e)+"";if(Dt(t))return Kt?Kt.call(t):"";var a=t+"";return"0"==a&&1/t==-1/0?"-0":a},qt=Ht;var Wt=W,Jt=be,Xt=xt,Qt=function(e){return null==e?"":qt(e)};var Yt=function(e,t){return Wt(e)?e:Jt(e,t)?[e]:Xt(Qt(e))},Zt=me;var ea=function(e){if("string"==typeof e||Zt(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},ta=Yt,aa=ea;var ra=function(e,t){for(var a=0,r=(t=ta(t,e)).length;null!=e&&a<r;)e=e[aa(t[a++])];return a&&a==r?e:void 0};const oa=t((function(e,t,a){var r=null==e?void 0:ra(e,t);return void 0===r?a:r}));var la=Ne,na=function(){try{var e=la(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var ia=function(e,t,a){"__proto__"==t&&na?na(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a},ua=ot,sa=Object.prototype.hasOwnProperty;var da=/^(?:0|[1-9]\d*)$/;var ca=function(e,t,a){var r=e[t];sa.call(e,t)&&ua(r,a)&&(void 0!==a||t in e)||ia(e,t,a)},ma=Yt,pa=function(e,t){var a=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==a||"symbol"!=a&&da.test(e))&&e>-1&&e%1==0&&e<t},ya=he,fa=ea;var va=function(e,t,a,r){if(!ya(e))return e;for(var o=-1,l=(t=ma(t,e)).length,n=l-1,i=e;null!=i&&++o<l;){var u=fa(t[o]),s=a;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=n){var d=i[u];void 0===(s=r?r(d,u,i):void 0)&&(s=ya(d)?d:pa(t[o+1])?[]:{})}ca(i,u,s),i=i[u]}return e};const ba=t((function(e,t,a){return null==e?e:va(e,t,a)}));const ha=n(a({name:"AutoFormItem",components:{VueMonaco:H,VueRender:r},props:{item:{type:Object,required:!0},model:{type:Object,required:!0}},setup(e,{emit:t}){const{item:a,model:r}=o(e),n=(e,t)=>e.__v_isRef?`value.${t}`:t,i=l({get:()=>oa(r.value,n(r.value,a.value.key)),set(e){ba(r.value,n(r.value,a.value.key),e)}});return{AutoFormItemType:q,dynamicValue:i}}}),[["render",function(e,t,a,r,o,l){const n=O,S=k,$=i("VueMonaco"),z=i("VueRender"),B=j,N=T,x=A,L=I,M=C,D=F,G=R,K=U,H=P,q=w,W=E;return u(),s(W,{label:e.item.label,prop:e.item.key,class:g(["auto-form-item",[e.item.cls]]),style:V(e.item.style||{width:e.item.width})},d({default:c((()=>[e.item.type===e.AutoFormItemType.INPUT?(u(),s(n,p({key:0,modelValue:e.dynamicValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.dynamicValue=t),placeholder:e.item.placeholder,disabled:e.item.disabled},e.item.props),null,16,["modelValue","placeholder","disabled"])):e.item.type===e.AutoFormItemType.INPUT_NUMBER?(u(),s(S,p({key:1,modelValue:e.dynamicValue,"onUpdate:modelValue":t[1]||(t[1]=t=>e.dynamicValue=t),placeholder:e.item.placeholder,disabled:e.item.disabled,controls:!1},e.item.props),null,16,["modelValue","placeholder","disabled"])):e.item.type===e.AutoFormItemType.MONACO_EDITOR?(u(),s($,p({key:2,modelValue:e.dynamicValue,"onUpdate:modelValue":t[2]||(t[2]=t=>e.dynamicValue=t),placeholder:e.item.placeholder,disabled:e.item.disabled,"show-line-numbers":""},e.item.props),null,16,["modelValue","placeholder","disabled"])):e.item.type===e.AutoFormItemType.SELECT?(u(),s(N,p({key:3,modelValue:e.dynamicValue,"onUpdate:modelValue":t[3]||(t[3]=t=>e.dynamicValue=t),placeholder:e.item.placeholder,class:"full-width",disabled:e.item.disabled},e.item.props),{default:c((()=>[e.item.selectOptionRender?(u(),s(z,{key:0,"render-fn":e.item.selectOptionRender,params:e.item},null,8,["render-fn","params"])):(u(!0),y(v,{key:1},f(e.item.options,(e=>(u(),s(B,{key:e.value,label:e.label,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])))),128))])),_:1},16,["modelValue","placeholder","disabled"])):e.item.type===e.AutoFormItemType.COLOR_PICKER?(u(),s(x,p({key:4,modelValue:e.dynamicValue,"onUpdate:modelValue":t[4]||(t[4]=t=>e.dynamicValue=t),disabled:e.item.disabled},e.item.props),null,16,["modelValue","disabled"])):e.item.type===e.AutoFormItemType.BUTTON?(u(),s(L,p({key:5,onClick:e.item.clickHandler,disabled:e.item.disabled},e.item.props),{default:c((()=>[b(h(e.item.placeholder),1)])),_:1},16,["onClick","disabled"])):e.item.type===e.AutoFormItemType.DATE_PICKER?(u(),s(M,p({key:6,modelValue:e.dynamicValue,"onUpdate:modelValue":t[5]||(t[5]=t=>e.dynamicValue=t),disabled:e.item.disabled},e.item.props),null,16,["modelValue","disabled"])):e.item.type===e.AutoFormItemType.CHECKBOX_GROUP?(u(),s(G,p({key:7,modelValue:e.dynamicValue,"onUpdate:modelValue":t[6]||(t[6]=t=>e.dynamicValue=t),disabled:e.item.disabled},e.item.props),{default:c((()=>[(u(!0),y(v,null,f(e.item.options||e.item.props.options,((e,t)=>(u(),s(D,{key:t,value:e.value},{default:c((()=>[b(h(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},16,["modelValue","disabled"])):e.item.type===e.AutoFormItemType.SWITCH?(u(),s(K,p({key:8,modelValue:e.dynamicValue,"onUpdate:modelValue":t[7]||(t[7]=t=>e.dynamicValue=t),disabled:e.item.disabled},e.item.props),null,16,["modelValue","disabled"])):e.item.type===e.AutoFormItemType.RADIO_GROUP?(u(),s(q,{key:9,disabled:e.item.disabled,modelValue:e.dynamicValue,"onUpdate:modelValue":t[8]||(t[8]=t=>e.dynamicValue=t)},{default:c((()=>[(u(!0),y(v,null,f(e.item.options||e.item.props.options,((e,t)=>(u(),s(H,{key:t,value:e.value},{default:c((()=>[b(h(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["disabled","modelValue"])):_("",!0),e.item.render?(u(),s(z,{key:10,"render-fn":e.item.render},null,8,["render-fn"])):_("",!0)])),_:2},[e.item.renderLabel?{name:"label",fn:c((({label:t})=>[m(z,{"render-fn":e.item.renderLabel,label:t},null,8,["render-fn","label"])])),key:"0"}:void 0]),1032,["label","prop","class","style"])}]]),_a={class:"auto-form-loading-container"},ga=[x("div",{class:"loading-text vp-panel"},"Loading...",-1)],Va={class:"form-content-wrap"},Oa={key:0,class:"auto-form-actions"},ka=a({name:"AutoFormElPlus",props:{formSchema:{},hideActions:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},emits:["onInvalidForm","onSubmit","onMounted","onBeforeUnmount"],setup(e,{expose:t,emit:a}){const r=e,l=a,{formSchema:n}=o(r),i=S(),d=()=>{i.value.validate((async e=>{if(!e)return console.log("Invalid form"),void l("onInvalidForm");console.log("onSubmit",n.value.model),l("onSubmit",n.value.model)}))};return $((()=>{l("onMounted",i.value)})),z((()=>{l("onBeforeUnmount",i.value)})),t({formRef:i,AutoFormItemType:q,submitForm:d}),(e,t)=>{const a=I,r=K;return u(),s(r,p({ref_key:"formRef",ref:i,"label-width":M(n).labelWidth,model:M(n).model,rules:M(n).rules,"label-position":M(n).labelPosition,class:"auto-form-el-plus",onSubmit:G(d,["prevent"])},M(n).props,{disabled:e.isLoading}),{default:c((()=>[m(L,{name:"fade"},{default:c((()=>[B(x("div",_a,ga,512),[[N,e.isLoading]])])),_:1}),x("div",Va,[(u(!0),y(v,null,f(M(n).formItems,((e,t)=>(u(),y(v,null,[Array.isArray(e)?(u(),y("div",{key:"g_"+t,class:g(["auto-form-grid",[`count-${e.length}`]]),style:V({gridTemplateColumns:`repeat(${e.length}, 1fr)`})},[(u(!0),y(v,null,f(e,(e=>(u(),y(v,null,["key"in e?(u(),s(ha,{key:e.key,item:e,model:M(n).model},null,8,["item","model"])):_("",!0)],64)))),256))],6)):"children"in e&&Array.isArray(e.children)?(u(),y("div",{key:"ag_"+t,class:g(["auto-form-grid",[`count-${e.cols}`]]),style:V({gridTemplateColumns:`repeat(${e.cols}, 1fr)`})},[(u(!0),y(v,null,f(e.children,(e=>(u(),s(ha,{key:e.key,item:e,model:M(n).model},null,8,["item","model"])))),128))],6)):"key"in e?(u(),s(ha,{key:t,item:e,model:M(n).model},null,8,["item","model"])):_("",!0)],64)))),256))]),e.hideActions?_("",!0):(u(),y("div",Oa,[D(e.$slots,"actions",{submitForm:d},(()=>[m(a,{type:"primary",onClick:t[0]||(t[0]=e=>d())},{default:c((()=>[b("Submit")])),_:1})]))])),D(e.$slots,"default")])),_:3},16,["label-width","model","rules","label-position","disabled"])}}});export{q as A,ka as _};
