import{r as e,D as a,d as r,bh as s,bH as o,z as t,_ as n,N as l,o as i,c,b as d,E as u,G as f,j as p,bj as h,aY as m,aI as v}from"./index-DSBX7T2Q.js";import{Q as b}from"./index-DoivXOji.js";import"./VueRender.vue_vue_type_script_lang-CiF-4_Kx.js";const w=r({name:"IframeBrowser",components:{QuickOptions:b},props:{visible:{type:Boolean,default:!1}},setup(r,{emit:n}){const l=s(r,n,"visible"),i=e(!1),c=e(),d=e(""),u=o("pagecraft_iframe_browser_url",""),f=t((()=>i.value?"(Loading...)":""));a((()=>{u.value&&p()}));const p=()=>{d.value="",d.value=u.value,i.value=!0},{options:h}=(({fetchFn:r,mapFn:s})=>{const o=e([]),t=(e=[],a=[])=>(e.forEach((e=>{const r={children:e.children?t(e.children):void 0,...s(e)};a.push(r)})),a),n=async()=>{const e=await r();o.value=t(e)};return a(n),{options:o,traverse:t,loadOptions:n}})({fetchFn:async()=>{const e=await fetch("./bookmarks.json");return await e.json()},mapFn:e=>({label:"ðŸŒŽ "+(e.label||e.value),value:e.value,props:{onClick:e.children?void 0:()=>{u.value=e.value,p()}}})}),m=e(!1);return{mVisible:l,iframeRef:c,iframeSrc:d,addressBarUrl:u,handleGo:p,handleIframeLoad:()=>{i.value=!1},handleIframeError:e=>{i.value=!1,console.error("[handleIframeError]",e)},titleText:f,shortcutList:h,showShortcuts:m}}}),_={class:"iframe-browser-inner-wrap"},I={class:"iframe-browser-address-bar-wrap"},y={class:"button-wrap"},k=["src"];const j=n(w,[["render",function(e,a,r,s,o,t){const n=m,b=l("QuickOptions"),w=v;return i(),c("div",_,[d("div",I,[d("div",y,[u(n,{size:"tiny",onClick:a[0]||(a[0]=a=>e.showShortcuts=!0)},{default:f((()=>[p("@")])),_:1}),u(b,{options:e.shortcutList,visible:e.showShortcuts,"onUpdate:visible":a[1]||(a[1]=a=>e.showShortcuts=a),title:"Shortcuts"},null,8,["options","visible"])]),u(w,{class:"iframe-browser-input font-code",size:"tiny",value:e.addressBarUrl,"onUpdate:value":a[2]||(a[2]=a=>e.addressBarUrl=a),placeholder:"input url (https://)",type:"text",onKeyup:a[3]||(a[3]=h((a=>e.handleGo()),["enter"]))},null,8,["value"]),u(n,{size:"tiny",onClick:a[4]||(a[4]=a=>e.handleGo())},{default:f((()=>[p("Go")])),_:1})]),d("iframe",{ref:"iframeRef",onLoad:a[5]||(a[5]=(...a)=>e.handleIframeLoad&&e.handleIframeLoad(...a)),onError:a[6]||(a[6]=(...a)=>e.handleIframeError&&e.handleIframeError(...a)),class:"iframe-browser-inner-iframe",src:e.iframeSrc,frameborder:"0"},null,40,k)])}],["__scopeId","data-v-441f0779"]]);export{j as default};
