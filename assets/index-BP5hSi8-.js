import{d as e,V as a,W as t,X as l,Y as i,N as n,T as s,y as o,Z as r,$ as p,a0 as d,a1 as c,a2 as u,q as m,D as b,a as v,u as k,a3 as y,_ as g,n as f,a4 as h,a5 as I,a6 as C,a7 as S,a8 as T,a9 as w,aa as R,ab as A,ac as O,c as _,b as W,F as E,j as $,s as P,k as L,h as x,ad as j,ae as B,r as H,af as D,w as N,e as U,f as z,m as M}from"./index-CQGI0j3m.js";import{S as V,_ as G}from"./index.vue_vue_type_script_setup_true_lang-CHTHQcBN.js";import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                 */const q=e({__name:"SettingsPersonalization",setup(e){const k=()=>{let e='<b><a href="https://www.dujin.org/12142.html" target="_blank">随机壁纸API</a></b>';return[{label:"Bing",url:"https://api.dujin.org/bing/1920.php"},{label:"ACG",url:"https://api.dujin.org/pic/"},{label:"Ghibli",url:"https://api.dujin.org/pic/ghibli"},{label:"风景",url:"https://api.dujin.org/pic/fengjing"}].forEach((a=>{e+=`<br>${a.label}: <a href="${a.url}" target="_blank">${a.url}</a>`})),e};a();const y=t(),{themeOptions:g}=l(),{iconOptions:f}=i(),h=n(s.WALLPAPER_STORAGE,""),I=o((()=>[{label:"个性化",key:"personalization",children:[{label:"主题色",key:"themeColor",iconClass:"mdi mdi-palette",store:y,type:V.COLOR_PICKER},{label:"桌面壁纸",key:"desktopWallpaper",iconClass:"mdi mdi-wallpaper",store:y,type:y.desktopWallpaper===r?void 0:V.INPUT,tips:k(),placeholder:"optional",actionRender:()=>p("div",{class:"flex-row-center-gap"},[p("button",{class:"vp-button",async onClick(){const[e]=await window.showOpenFilePicker({types:[{description:"Image",accept:{"image/*":[".png",".jpg",".jpeg",".gif",".webp",".svg"]}}]}),a=await e.getFile();y.desktopWallpaper=r,h.value=await d(a)}},"Open..."),y.desktopWallpaper===r&&p("button",{class:"vp-button",onClick(){y.desktopWallpaper=""}},"Clear")].filter(Boolean))},y.desktopWallpaper&&{label:"壁纸尺寸",key:"desktopBackgroundSize",iconClass:"mdi mdi-image-size-select-large",store:y,type:V.SELECT,options:c},{label:"桌面背景色",key:"desktopBgColor",iconClass:"mdi mdi-format-color-fill",store:y,type:V.COLOR_PICKER},{label:"明暗模式",key:"ldTheme",iconClass:"mdi mdi-brightness-4",store:y,type:V.MULTIPLE_SWITCH,options:u},{label:"系统主题",key:"customTheme",iconClass:"mdi mdi-palette-swatch-variant",store:y,type:V.SELECT,options:g.value},{label:"图标主题",key:"iconTheme",iconClass:"mdi mdi-star-box",store:y,type:V.SELECT,options:f.value},{label:"Disable Animation",subtitle:"E-Ink optimization",key:"disableAnimation",iconClass:"mdi mdi-transition",store:y,type:V.SWITCH}].filter(Boolean)}]));return(e,a)=>(m(),b(G,{"option-list":v(I)},null,8,["option-list"]))}});const F=g(e({name:"SettingsSystem",components:{OptionUI:G},setup(e,{emit:l}){a();const i=t(),n=k();return{optionList:o((()=>{var e,a;return[{label:"软件信息",key:"os_info",children:[{key:"frontend_version",label:"前端版本",iconClass:"mdi mdi-application-outline",subtitle:y.name,actionRender:p("div",y.version)},{key:"backend_version",label:"后端服务器版本",iconClass:"mdi mdi-server-network",subtitle:n.isBackendAvailable?null==(e=n.serverInfo)?void 0:e.name:"后端服务不可用",actionRender:p("div",n.isBackendAvailable?null==(a=n.serverInfo)?void 0:a.version:"N/A")},{key:"github",label:"仓库地址",iconClass:"mdi mdi-git",subtitle:"作者: Canwdev",actionRender:p("a",{href:"https://github.com/canwdev/canos-web",target:"_blank",rel:"nofollow noopener"},"Github")}].filter(Boolean)},{label:"系统 UI",key:"system_ui",children:[{label:"多窗口模式",key:"isWindowed",iconClass:"mdi mdi-dock-window",store:i,type:V.SWITCH},{label:"任务栏只显示图标",key:"taskbarIconOnly",store:i,type:V.SWITCH},{label:"托盘：FPS",key:"taskbarShowFps",store:i,type:V.SWITCH},{label:"托盘：JS 内存",key:"taskbarShowMemory",store:i,type:V.SWITCH},{label:"托盘：电池",key:"taskbarShowBattery",store:i,type:V.SWITCH},{label:"托盘：时钟",key:"taskbarShowClock",store:i,type:V.SWITCH}]}]}))}}}),[["render",function(e,a,t,l,i,n){const s=f("OptionUI");return m(),b(s,{"option-list":e.optionList},null,8,["option-list"])}]]);const Z=g(e({name:"SettingsPrograms",components:{OptionUI:G},setup(e,{emit:l}){a();const i=t(),n=k();return{optionList:o((()=>{const e={};return i.appAutoStartIds.forEach((a=>{e[a]=!0})),[{label:"应用管理",key:"app_management",children:n.allApps.map((a=>({iconRender:p(h,{name:a.icon,iconClass:a.iconClass}),label:a.title,subtitle:[a.appid,a.singleInstance&&"单例模式",a.requireBackend&&"需要后端服务"].filter(Boolean).join(" | "),key:a.appid,actionRender:p("div",{style:"display:flex; align-items: center; gap:8px;"},[p("button",{class:"vp-button",onClick(){n.createTaskById(a.appid)}},"启动"),p(I,{label:"自动启动",checked:e[a.appid],onClick:()=>{console.log(e),e[a.appid]?delete e[a.appid]:e[a.appid]=!0,i.appAutoStartIds=Object.keys(e)}})])})))}]}))}}}),[["render",function(e,a,t,l,i,n){const s=f("OptionUI");return m(),b(s,{"option-list":e.optionList},null,8,["option-list"])}]]);const Y=g(e({name:"SettingsHardware",components:{OptionUI:G},setup(e,{emit:t}){a();const l=k(),{devices:i}=C(),{pixelRatio:n}=S(),{isOnline:s,offlineAt:r,downlink:d,downlinkMax:c,effectiveType:u,saveData:m,type:b}=T(),{charging:v,chargingTime:y,dischargingTime:g,level:f}=w(),h=e=>R.duration(e,"seconds").format("HH:mm:ss",{trim:!1}),I=e=>p("textarea",{style:"width: 300px; height: 100px; font-size: 12px;",class:"font-code vp-input",readonly:!0,value:e});return{optionList:o((()=>{let e=`电量 ${100*f.value}%`;return v.value?(e+=" (充电中)",e+=`<br>充电完成时间: ${h(y.value)}`):e+=`<br>剩余可用时间: ${h(g.value)}`,[l.isBackendAvailable&&{label:"后端",key:"server",children:[{label:"服务器系统信息",key:"hostname",iconClass:"mdi mdi-desktop-classic",actionRender:()=>I(`Hostname: ${l.serverInfo.os.hostname}\nPlatform: ${l.serverInfo.os.platform} | Arch: ${l.serverInfo.os.arch}\nOS: ${l.serverInfo.os.type} | ${l.serverInfo.os.version} | ${l.serverInfo.os.release}\nCPU: ${l.serverInfo.os.cpu}\n`)}]},{label:"前端设备信息",key:"frontend",children:[{label:"浏览器网络",key:"lan",iconClass:"mdi mdi-lan",actionRender:()=>I(`Is Online: ${s.value}\nOffline At: ${r.value}\nDownlink: ${d.value}\nDownlink Max: ${c.value}\nEffective Type: ${u.value}\nSave Data: ${m.value}\nType: ${b.value}`)},{label:"电池",key:"battery",iconClass:"mdi mdi-battery",actionRender:()=>p("div",{style:"text-align: right",innerHTML:e})},{label:"设备像素比",key:"pixelRatio",iconClass:"mdi mdi-monitor-screenshot",actionRender:()=>p("div",{innerHTML:`${n.value||"N/A"}`})}]},{label:"前端多媒体设备",key:"devmgmt.msc",children:[{label:"Devices",key:"devices",iconClass:"mdi mdi-memory",actionRender:p("button",{class:"vp-button",onClick:()=>{console.log(i.value)}},"Print to Console")},...Array.from(i.value).map((e=>({label:e.label||"/",key:e.devicecId,iconClass:"mdi mdi-chip",subtitle:e.kind,actionRender:I(`deviceId: ${e.deviceId||"/"}\ngroupId: ${e.groupId||"/"}`)})))]}].filter(Boolean)}))}}}),[["render",function(e,a,t,l,i,n){const s=f("OptionUI");return m(),b(s,{"option-list":e.optionList},null,8,["option-list"])}]]),K=e({name:"TabLayout",components:{VueRender:A},props:{modelValue:{type:[String,Number],required:!0},horizontal:{type:Boolean,default:!1},options:{type:Array,default:()=>[]}},setup:(e,{emit:a})=>({mValue:O(e,a)})}),J={class:"sidebar-wrap"},X={class:"mc-tab-list"},Q=["onClick","title"],ee={key:1,class:"item-text"},ae={class:"content-wrap"};const te=g(K,[["render",function(e,a,t,l,i,n){const s=f("VueRender");return m(),_("div",{class:P(["mc-vertical-tab-layout vp-bg",{horizontal:e.horizontal}])},[W("div",J,[W("div",X,[(m(!0),_(E,null,$(e.options,(a=>(m(),_("div",{key:a.value,class:P([{active:a.value===e.mValue},"list-item"]),onClick:t=>e.mValue=a.value,title:a.title},[a.render?(m(),b(s,{key:0,"render-fn":a.render},null,8,["render-fn"])):L("",!0),a.label?(m(),_("div",ee,x(a.label),1)):L("",!0)],10,Q)))),128))])]),W("div",ae,[j(e.$slots,"default",{},void 0,!0)])],2)}],["__scopeId","data-v-e347affd"]]),le=e({__name:"SettingsWidgets",setup(e){a();const n=t();l(),i();const s=o((()=>{const e={};return n.enabledWidgetIds.forEach((a=>{e[a]=!0})),[{label:"Widgets",key:"widgets",children:B.map((a=>({iconRender:p(h,{name:a.icon,iconClass:a.iconClass}),label:a.title,subtitle:[a.appid,a.singleInstance&&"单例模式",a.requireBackend&&"需要后端服务"].filter(Boolean).join(" | "),key:a.appid,actionRender:p("div",{style:"display:flex; align-items: center; gap:8px;"},[p(I,{label:"启用",checked:e[a.appid],onClick:()=>{e[a.appid]?delete e[a.appid]:e[a.appid]=!0,n.enabledWidgetIds=Object.keys(e)}})])})))}]}));return(e,a)=>(m(),b(G,{"option-list":v(s)},null,8,["option-list"]))}}),ie={class:"settings-app"},ne={class:"settings-content"},se=g(e({name:"SettingsApp",props:{appParams:{}},setup(e){var a;const t=e,l=H([{label:"个性化",value:D.PERSONALIZATION},{label:"应用程序",value:D.PROGRAMS},{label:"Widgets",value:D.WIDGETS},{label:"硬件",value:D.HARDWARE},{label:"系统",value:D.SYSTEM}]),i=H((null==(a=t.appParams)?void 0:a.curTab)||D.PERSONALIZATION);return N((()=>t.appParams),(()=>{t.appParams&&(i.value=t.appParams.curTab)})),(e,a)=>(m(),_("div",ie,[U(te,{horizontal:"",modelValue:v(i),"onUpdate:modelValue":a[0]||(a[0]=e=>M(i)?i.value=e:null),options:v(l)},{default:z((()=>[W("div",ne,[v(i)===v(D).PERSONALIZATION?(m(),b(q,{key:0})):v(i)===v(D).PROGRAMS?(m(),b(Z,{key:1})):L("",!0),v(i)===v(D).WIDGETS?(m(),b(le,{key:2})):v(i)===v(D).HARDWARE?(m(),b(Y,{key:3})):v(i)===v(D).SYSTEM?(m(),b(F,{key:4})):L("",!0)])])),_:1},8,["modelValue","options"])]))}}),[["__scopeId","data-v-bda34e17"]]);export{se as default};
