import{d as e,ac as l,_ as a,q as t,c as n,F as s,j as o,s as u,g as d,h as i,ag as r,y as p,r as v,w as c,l as m,v as y,b as f,ah as b,k as h,p as g,o as k,H as w,D as V,f as x,a as _,m as C,P as E,ai as T,aj as U,J as F,ak as I,al as B,ab as L,am as A,an as N,ao as M,ap as S,aq as D,ar as H,ad as R,as as O,e as P,at as z,au as j,av as K,aw as q}from"./index-CQGI0j3m.js";import"./el-tooltip-l0sNRNKZ.js";/* empty css                  *//* empty css                 */var W=(e=>(e.SWITCH="switch",e.MULTIPLE_SWITCH="multiple_switch",e.SLIDER="slider",e.SELECT="select",e.INPUT="input",e.INPUT_NUMBER="input_number",e.COLOR_PICKER="color_picker",e.DYNAMIC_TAGS="dynamic_tags",e.DATE_PICKER="date_picker",e.BUTTON="button",e))(W||{});const J=["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548","#9e9e9e","#607d8b","#FFFFFF","#000000","#3A6EA5","#F0C869"],G=e({name:"RectSwitch",props:{modelValue:{type:[Boolean,String,Number],default:!1},options:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},isLabelHtml:{type:Boolean,default:!1}},setup:(e,{emit:a})=>({mValue:l(e,a)})}),Y=["onClick"],$=["innerHTML"];const Q=a(G,[["render",function(e,l,a,r,p,v){return t(),n("div",{class:u(["rect-switch",{disabled:e.disabled}])},[(t(!0),n(s,null,o(e.options,(l=>(t(),n("div",{key:l.value,class:u(["r-item",{active:l.value===e.mValue}]),onClick:a=>e.mValue=l.value},[e.isLabelHtml?(t(),n("div",{key:0,innerHTML:l.label},null,8,$)):(t(),n(s,{key:1},[d(i(l.label||l.value),1)],64))],10,Y)))),128))],2)}]]);const X=e({name:"AdvancedNumberInput",props:{modelValue:{type:Number,required:!0},disabled:{type:Boolean,default:!1},isDebug:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},min:Number,max:Number,step:{type:Number,default:1},format:Function,parse:Function,marks:{type:Object}},setup(e,{emit:l}){const{marks:a,step:t,min:n,max:s,modelValue:o,readonly:u,disabled:d}=r(e),i=p({get:()=>e.modelValue,set:e=>l("update:modelValue",e)}),m=p((()=>{if(!a.value)return null;const e=[];return Object.keys(a.value).forEach((l=>{e.push(Number(l))})),e.sort(((e,l)=>e-l))})),y=e=>{const l=m.value;if(l){let a=l.findIndex((e=>e===i.value));if(a<0){a=function(e,l){let a=-1,t=l[0],n=Math.abs(e-l[0]);for(let s=1;s<l.length;s++){const o=Math.abs(e-l[s]);o<n&&(a=s,t=l[s],n=o)}return{index:a,value:t}}(i.value,l).index,a<0&&(console.error("number not found!",{idx:a,numbers:l,mValue:i.value,isNext:e}),a=0)}if(e){if(void 0!==l[a+1])return l[a+1]}else if(void 0!==l[a-1])return l[a-1]}return null},f=p((()=>{if(m.value)return y(!0);const e=s.value,l=(a=i.value,n=t.value,a+n);var a,n;return void 0!==e?l<=e?l:null:l})),b=p((()=>null!==f.value)),h=p((()=>{if(m.value)return y(!1);const e=n.value,l=(a=i.value,s=t.value,a-s);var a,s;return void 0!==e?l>=e?l:null:l})),g=p((()=>null!==h.value)),k=v(""),w=l=>e.format?e.format(l):String(l);c(o,(e=>{k.value=w(e)}),{immediate:!0});const V=()=>{if(u.value||d.value)return;let l;l=e.parse?e.parse(String(k.value))||0:Number(k.value)||0,void 0!==e.max&&l>e.max&&(l=e.max),void 0!==e.min&&l<e.min&&(l=e.min),e.step&&(l=Math.round(l/e.step)*e.step),i.value=l,k.value=w(l)},x=v(!1);return{mValue:i,handleUp:()=>{b.value&&!e.disabled&&(i.value=f.value)},handleDown:()=>{g.value&&!e.disabled&&(i.value=h.value)},isAllowUp:b,isAllowDown:g,nextUpValue:f,nextDownValue:h,marksNumberArray:m,inputValue:k,handleBlur:()=>{V(),x.value=!1},handleEnter:V,handleFocus:()=>{x.value=!0},isFocused:x}}}),Z=e=>(g("data-v-3a805b02"),e=e(),k(),e),ee=["readonly","disabled"],le={key:0,class:"debug-val"},ae={class:"toggle-wrap"},te=["disabled"],ne=[Z((()=>f("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 12 12"},[f("g",{fill:"none"},[f("path",{d:"M2.146 7.354a.5.5 0 0 0 .708 0L6 4.207l3.146 3.147a.5.5 0 1 0 .708-.708l-3.5-3.5a.5.5 0 0 0-.708 0l-3.5 3.5a.5.5 0 0 0 0 .708z",fill:"currentColor"})])],-1)))],se=["disabled"],oe=[Z((()=>f("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 12 12"},[f("g",{fill:"none"},[f("path",{d:"M2.146 4.646a.5.5 0 0 1 .708 0L6 7.793l3.146-3.147a.5.5 0 1 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 0 1 0-.708z",fill:"currentColor"})])],-1)))];const ue=a(X,[["render",function(e,l,a,s,o,d){return t(),n("div",{class:u(["advanced-number-input",{disabled:e.disabled,focused:e.isFocused}])},[m(f("input",{"onUpdate:modelValue":l[0]||(l[0]=l=>e.inputValue=l),type:"text",class:"text-input",readonly:e.readonly,onFocus:l[1]||(l[1]=(...l)=>e.handleFocus&&e.handleFocus(...l)),onBlur:l[2]||(l[2]=(...l)=>e.handleBlur&&e.handleBlur(...l)),onKeyup:[l[3]||(l[3]=b(((...l)=>e.handleEnter&&e.handleEnter(...l)),["enter"])),l[4]||(l[4]=b(((...l)=>e.handleUp&&e.handleUp(...l)),["up"])),l[5]||(l[5]=b(((...l)=>e.handleDown&&e.handleDown(...l)),["down"]))],disabled:e.disabled},null,40,ee),[[y,e.inputValue]]),e.isDebug?(t(),n("div",le,i(e.modelValue),1)):h("",!0),f("div",ae,[f("button",{onClick:l[6]||(l[6]=(...l)=>e.handleUp&&e.handleUp(...l)),class:"btn-no-style btn-up",disabled:!e.isAllowUp||e.disabled},ne,8,te),f("button",{onClick:l[7]||(l[7]=(...l)=>e.handleDown&&e.handleDown(...l)),class:"btn-no-style btn-down",disabled:!e.isAllowDown||e.disabled},oe,8,se)])],2)}],["__scopeId","data-v-3a805b02"]]),de={class:"dynamic-tags"},ie=a(e({__name:"DynamicTags",props:{modelValue:{default:[]}},emits:[],setup(e,{emit:l}){const a=e,u=l;r(a);const p=w(a,"modelValue",u),c=v(""),m=v(!1),y=v(),f=()=>{m.value=!0,E((()=>{y.value.input.focus()}))},h=()=>{c.value&&p.value.push(c.value),m.value=!1,c.value=""};return(e,l)=>{const a=T,u=U,r=F;return t(),n("div",de,[(t(!0),n(s,null,o(_(p),(e=>(t(),V(a,{key:e,closable:"","disable-transitions":!1,onClose:l=>(e=>{p.value.splice(p.value.indexOf(e),1)})(e)},{default:x((()=>[d(i(e),1)])),_:2},1032,["onClose"])))),128)),_(m)?(t(),V(u,{key:0,ref_key:"InputRef",ref:y,modelValue:_(c),"onUpdate:modelValue":l[0]||(l[0]=e=>C(c)?c.value=e:null),class:"w-20",size:"small",onKeyup:b(h,["enter"]),onBlur:h},null,8,["modelValue"])):(t(),V(r,{key:1,class:"button-new-tag",size:"small",onClick:f},{default:x((()=>[d(" + New Tag ")])),_:1}))])}}}),[["__scopeId","data-v-2ad523a1"]]),re=["disabled"],pe=e({__name:"ItemAction",props:{item:{}},emits:["updateValue"],setup(e,{emit:l}){const a=e,{item:u}=r(a),d=l,v=I("sharedStore"),c=p({get(){const e=u.value.store||v.value;return e?e[u.value.key]:u.value.value},set(e){d("updateValue",{item:u.value,value:e});const l=u.value.store||v.value;l?l[u.value.key]=e:u.value.value=e}});return(e,l)=>{const a=A,d=U,r=N,p=M,v=S,m=D,y=H;return t(),V(y,{class:"option-item-action",size:"small",align:"center"},{default:x((()=>[_(u).type===_(W).SWITCH?(t(),V(a,B({key:0,modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=e=>c.value=e)},_(u).props),null,16,["modelValue"])):_(u).type===_(W).MULTIPLE_SWITCH?(t(),V(Q,B({key:1,options:_(u).options,modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=e=>c.value=e)},_(u).props),null,16,["options","modelValue"])):_(u).type===_(W).INPUT?(t(),V(d,B({key:2,class:"option-select option-input",modelValue:c.value,"onUpdate:modelValue":l[2]||(l[2]=e=>c.value=e),clearable:""},_(u).props),null,16,["modelValue"])):_(u).type===_(W).SELECT?(t(),V(p,B({key:3,modelValue:c.value,"onUpdate:modelValue":l[3]||(l[3]=e=>c.value=e),placeholder:_(u).placeholder,class:"option-select",teleported:!1},_(u).props),{default:x((()=>[(t(!0),n(s,null,o(_(u).options,(e=>(t(),V(r,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},16,["modelValue","placeholder"])):_(u).type===_(W).DYNAMIC_TAGS?(t(),V(ie,B({key:4,class:"dynamic-tags",modelValue:c.value,"onUpdate:modelValue":l[4]||(l[4]=e=>c.value=e)},_(u).props),null,16,["modelValue"])):_(u).type===_(W).COLOR_PICKER?(t(),V(v,B({key:5,modelValue:c.value,"onUpdate:modelValue":l[5]||(l[5]=e=>c.value=e)},_(u).props,{predefine:_(J)}),null,16,["modelValue","predefine"])):_(u).type===_(W).INPUT_NUMBER?(t(),V(ue,B({key:6,modelValue:c.value,"onUpdate:modelValue":l[6]||(l[6]=e=>c.value=e),disabled:_(u).disabled},_(u).props),null,16,["modelValue","disabled"])):_(u).type===_(W).DATE_PICKER?(t(),V(m,B({key:7,modelValue:c.value,"onUpdate:modelValue":l[7]||(l[7]=e=>c.value=e),disabled:_(u).disabled,class:"option-select"},_(u).props),null,16,["modelValue","disabled"])):_(u).type===_(W).BUTTON?(t(),n("button",B({key:8,disabled:_(u).disabled},_(u).props,{class:"vp-button"}),i(_(u).value),17,re)):h("",!0),_(u).actionRender?(t(),V(L,{key:9,"render-fn":_(u).actionRender},null,8,["render-fn"])):h("",!0)])),_:1})}}}),ve=a(e({__name:"TransitionBodyCollapse",setup(e){const l={enter(e){e.style.height="auto";let l=window.getComputedStyle(e).height;e.style.height="0px",e.offsetHeight,e.style.overflow="hidden",e.style.height=l},afterEnter(e){e.style.height="",e.style.overflow=""},leave(e){e.style.height=window.getComputedStyle(e).height,e.offsetHeight,e.style.overflow="hidden",e.style.height="0px"},afterLeave(e){e.style.height="",e.style.overflow=""}};return(e,a)=>(t(),V(O,{onEnter:l.enter,onAfterEnter:l.afterEnter,onLeave:l.leave,onAfterLeave:l.afterLeave},{default:x((()=>[R(e.$slots,"default",{},void 0,!0)])),_:3},8,["onEnter","onAfterEnter","onLeave","onAfterLeave"]))}}),[["__scopeId","data-v-93608f42"]]),ce=["data-key"],me={class:"panel-header vp-bg"},ye=["title"],fe={class:"item-label"},be={class:"p-right"},he={style:{width:"20px",height:"20px"},xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},ge=[f("g",{fill:"none"},[f("path",{d:"M15.794 7.733a.75.75 0 0 1-.026 1.06l-5.25 5.001a.75.75 0 0 1-1.035 0l-5.25-5a.75.75 0 0 1 1.034-1.087l4.734 4.509l4.733-4.51a.75.75 0 0 1 1.06.027z",fill:"currentColor"})],-1)],ke=["data-key","onClick"],we={class:"o-left"},Ve=["title"],xe=["title"],_e=["src"],Ce=["title"],Ee={class:"item-title-wrap"},Te={class:"item-label-wrap"},Ue={class:"item-label"},Fe={style:{width:"16px",height:"16px"},xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},Ie=[f("g",{fill:"none"},[f("path",{d:"M10 2a8 8 0 1 1 0 16a8 8 0 0 1 0-16zm0 1a7 7 0 1 0 0 14a7 7 0 0 0 0-14zm0 10.5a.75.75 0 1 1 0 1.5a.75.75 0 0 1 0-1.5zm0-8a2.5 2.5 0 0 1 1.651 4.377l-.154.125l-.219.163l-.087.072a1.968 1.968 0 0 0-.156.149c-.339.36-.535.856-.535 1.614a.5.5 0 0 1-1 0c0-1.012.293-1.752.805-2.298a3.11 3.11 0 0 1 .356-.323l.247-.185l.118-.1A1.5 1.5 0 1 0 8.5 8a.5.5 0 0 1-1 .001A2.5 2.5 0 0 1 10 5.5z",fill:"currentColor"})],-1)],Be=["innerHTML"],Le=["innerHTML"],Ae={class:"o-right"},Ne=e({__name:"OptionItem",props:{item:{},foldedKeyMap:{default:{}}},emits:["onToggleExpand","updateValue"],setup(e,{emit:l}){const a=e,{item:d,foldedKeyMap:v}=r(a),c=l,y=p((()=>!v.value[d.value.key]));return(e,l)=>{const a=K;return t(),n("div",{class:u(["c-panel-item",[_(d).cls]]),"data-key":_(d).key,key:_(d).key},[f("div",me,[f("div",{class:"p-left",title:_(d).label},[f("div",fe,i(_(d).label),1)],8,ye),f("div",be,[!_(d).hideExpandIcon&&_(d).children&&_(d).children.length?(t(),n("div",{key:0,class:u(["btn-no-style btn-toggle-expand",{expanded:_(y)}]),onClick:l[0]||(l[0]=l=>e.$emit("onToggleExpand",_(d)))},[(t(),n("svg",he,ge))],2)):h("",!0),P(pe,{item:_(d),onUpdateValue:l[1]||(l[1]=e=>c("updateValue",e))},null,8,["item"])])]),P(ve,null,{default:x((()=>[_(d).children&&_(d).children.length?m((t(),V(j,{key:0,tag:"div",name:"fadeMove",class:"panel-body"},{default:x((()=>[(t(!0),n(s,null,o(_(d).children,((e,o)=>(t(),n("div",B({key:e.key||o,class:["sub-item",[{clickable:e.clickFn},e.cls]],"data-key":e.key,onClick:l=>{return a=l,void("function"==typeof(t=e.clickFn)&&t(a,d.value));var a,t}},e.itemProps),[e.render?(t(),V(L,{key:0,"render-fn":e.render},null,8,["render-fn"])):(t(),n(s,{key:1},[f("div",we,[e.iconRender?(t(),n("div",{key:0,class:"item-icon",title:e.label},[P(L,{"render-fn":e.iconRender},null,8,["render-fn"])],8,Ve)):e.icon?(t(),n("div",{key:1,class:"item-icon",title:e.label},[f("img",{src:e.icon,alt:"icon"},null,8,_e)],8,xe)):e.iconClass?(t(),n("div",{key:2,class:"item-icon",title:e.label},[f("i",{class:u(e.iconClass)},null,2)],8,Ce)):h("",!0),f("div",Ee,[f("div",Te,[f("span",Ue,i(e.label),1),e.tips?(t(),V(a,{key:0,effect:"light"},{content:x((()=>[f("span",{innerHTML:e.tips},null,8,Be)])),default:x((()=>[(t(),n("svg",Fe,Ie))])),_:2},1024)):h("",!0)]),e.subtitle?(t(),n("div",{key:0,class:"item-subtitle",innerHTML:e.subtitle},null,8,Le)):h("",!0)])]),f("div",Ae,[P(pe,{item:e,onUpdateValue:l[2]||(l[2]=e=>c("updateValue",e))},null,8,["item"])])],64))],16,ke)))),128))])),_:1},512)),[[z,_(y)]]):h("",!0)])),_:1})],10,ce)}}}),Me={class:"option-ui"},Se=e({name:"OptionUI",props:{optionList:{},store:{},expandId:{default:""}},emits:["onToggleExpand","updateValue"],setup(e,{emit:l}){const a="option_ui_folded_key_map",u=e,{expandId:d,store:i}=r(u),p=l;q("sharedStore",i);const c=v(JSON.parse(localStorage.getItem(a+d.value)||"null")||{}),y=e=>{c.value[e.key]?delete c.value[e.key]:c.value[e.key]=!0,localStorage.setItem(a+d.value,JSON.stringify(c.value))};return(e,l)=>(t(),n("div",Me,[(t(!0),n(s,null,o(e.optionList,(e=>m((t(),V(Ne,{item:e,key:e.key,"folded-key-map":_(c),onOnToggleExpand:y,onUpdateValue:l[0]||(l[0]=e=>p("updateValue",e))},null,8,["item","folded-key-map"])),[[z,!e.hidden]]))),128))]))}});export{W as S,Se as _};
