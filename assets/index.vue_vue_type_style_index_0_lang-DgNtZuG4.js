import{b8 as e,aH as t,d as a,ab as r,ag as o,y as l,_ as n,n as i,q as u,D as s,b1 as d,f as c,e as m,al as p,c as y,j as f,F as v,g as b,h,k as _,s as V,aG as g,aj as O,b9 as k,ba as T,an as j,ao as A,ap as I,J as U,aq as C,a5 as P,bb as F,am as E,bc as R,bd as w,be as S,r as $,O as N,aC as z,l as L,at as M,b as x,as as B,a as D,ad as K,aK as G,bf as H}from"./index-CQGI0j3m.js";/* empty css                  *//* empty css                 *//* empty css                        */import{V as q}from"./index-Bc-2Q8zN.js";var W=(e=>(e.INPUT="input",e.INPUT_NUMBER="input_number",e.INPUT_AUTOCOMPLETE="input_autocomplete",e.MONACO_EDITOR="monaco_editor",e.SELECT="select",e.COLOR_PICKER="color_picker",e.BUTTON="button",e.DATE_PICKER="date_picker",e.CHECKBOX_GROUP="checkbox_group",e.RADIO_GROUP="radio_group",e.SWITCH="switch",e))(W||{}),X=Array.isArray,J="object"==typeof e&&e&&e.Object===Object&&e,Q="object"==typeof self&&self&&self.Object===Object&&self,Y=J||Q||Function("return this")(),Z=Y.Symbol,ee=Z,te=Object.prototype,ae=te.hasOwnProperty,re=te.toString,oe=ee?ee.toStringTag:void 0;var le=function(e){var t=ae.call(e,oe),a=e[oe];try{e[oe]=void 0;var r=!0}catch(l){}var o=re.call(e);return r&&(t?e[oe]=a:delete e[oe]),o},ne=Object.prototype.toString;var ie=le,ue=function(e){return ne.call(e)},se=Z?Z.toStringTag:void 0;var de=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":se&&se in Object(e)?ie(e):ue(e)};var ce=de,me=function(e){return null!=e&&"object"==typeof e};var pe=function(e){return"symbol"==typeof e||me(e)&&"[object Symbol]"==ce(e)},ye=X,fe=pe,ve=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,be=/^\w*$/;var he=function(e,t){if(ye(e))return!1;var a=typeof e;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=e&&!fe(e))||(be.test(e)||!ve.test(e)||null!=t&&e in Object(t))};var _e=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Ve=de,ge=_e;var Oe,ke=function(e){if(!ge(e))return!1;var t=Ve(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Te=Y["__core-js_shared__"],je=(Oe=/[^.]+$/.exec(Te&&Te.keys&&Te.keys.IE_PROTO||""))?"Symbol(src)_1."+Oe:"";var Ae=function(e){return!!je&&je in e},Ie=Function.prototype.toString;var Ue=ke,Ce=Ae,Pe=_e,Fe=function(e){if(null!=e){try{return Ie.call(e)}catch(t){}try{return e+""}catch(t){}}return""},Ee=/^\[object .+?Constructor\]$/,Re=Function.prototype,we=Object.prototype,Se=Re.toString,$e=we.hasOwnProperty,Ne=RegExp("^"+Se.call($e).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ze=function(e){return!(!Pe(e)||Ce(e))&&(Ue(e)?Ne:Ee).test(Fe(e))},Le=function(e,t){return null==e?void 0:e[t]};var Me=function(e,t){var a=Le(e,t);return ze(a)?a:void 0},xe=Me(Object,"create"),Be=xe;var De=function(){this.__data__=Be?Be(null):{},this.size=0};var Ke=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ge=xe,He=Object.prototype.hasOwnProperty;var qe=function(e){var t=this.__data__;if(Ge){var a=t[e];return"__lodash_hash_undefined__"===a?void 0:a}return He.call(t,e)?t[e]:void 0},We=xe,Xe=Object.prototype.hasOwnProperty;var Je=xe;var Qe=De,Ye=Ke,Ze=qe,et=function(e){var t=this.__data__;return We?void 0!==t[e]:Xe.call(t,e)},tt=function(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=Je&&void 0===t?"__lodash_hash_undefined__":t,this};function at(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}at.prototype.clear=Qe,at.prototype.delete=Ye,at.prototype.get=Ze,at.prototype.has=et,at.prototype.set=tt;var rt=at;var ot=function(){this.__data__=[],this.size=0};var lt=function(e,t){return e===t||e!=e&&t!=t},nt=lt;var it=function(e,t){for(var a=e.length;a--;)if(nt(e[a][0],t))return a;return-1},ut=it,st=Array.prototype.splice;var dt=it;var ct=it;var mt=it;var pt=ot,yt=function(e){var t=this.__data__,a=ut(t,e);return!(a<0)&&(a==t.length-1?t.pop():st.call(t,a,1),--this.size,!0)},ft=function(e){var t=this.__data__,a=dt(t,e);return a<0?void 0:t[a][1]},vt=function(e){return ct(this.__data__,e)>-1},bt=function(e,t){var a=this.__data__,r=mt(a,e);return r<0?(++this.size,a.push([e,t])):a[r][1]=t,this};function ht(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}ht.prototype.clear=pt,ht.prototype.delete=yt,ht.prototype.get=ft,ht.prototype.has=vt,ht.prototype.set=bt;var _t=ht,Vt=Me(Y,"Map"),gt=rt,Ot=_t,kt=Vt;var Tt=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var jt=function(e,t){var a=e.__data__;return Tt(t)?a["string"==typeof t?"string":"hash"]:a.map},At=jt;var It=jt;var Ut=jt;var Ct=jt;var Pt=function(){this.size=0,this.__data__={hash:new gt,map:new(kt||Ot),string:new gt}},Ft=function(e){var t=At(this,e).delete(e);return this.size-=t?1:0,t},Et=function(e){return It(this,e).get(e)},Rt=function(e){return Ut(this,e).has(e)},wt=function(e,t){var a=Ct(this,e),r=a.size;return a.set(e,t),this.size+=a.size==r?0:1,this};function St(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}St.prototype.clear=Pt,St.prototype.delete=Ft,St.prototype.get=Et,St.prototype.has=Rt,St.prototype.set=wt;var $t=St;function Nt(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var a=function(){var r=arguments,o=t?t.apply(this,r):r[0],l=a.cache;if(l.has(o))return l.get(o);var n=e.apply(this,r);return a.cache=l.set(o,n)||l,n};return a.cache=new(Nt.Cache||$t),a}Nt.Cache=$t;var zt=Nt;var Lt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mt=/\\(\\)?/g,xt=function(e){var t=zt(e,(function(e){return 500===a.size&&a.clear(),e})),a=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Lt,(function(e,a,r,o){t.push(r?o.replace(Mt,"$1"):a||e)})),t}));var Bt=function(e,t){for(var a=-1,r=null==e?0:e.length,o=Array(r);++a<r;)o[a]=t(e[a],a,e);return o},Dt=X,Kt=pe,Gt=Z?Z.prototype:void 0,Ht=Gt?Gt.toString:void 0;var qt=function e(t){if("string"==typeof t)return t;if(Dt(t))return Bt(t,e)+"";if(Kt(t))return Ht?Ht.call(t):"";var a=t+"";return"0"==a&&1/t==-1/0?"-0":a},Wt=qt;var Xt=X,Jt=he,Qt=xt,Yt=function(e){return null==e?"":Wt(e)};var Zt=function(e,t){return Xt(e)?e:Jt(e,t)?[e]:Qt(Yt(e))},ea=pe;var ta=function(e){if("string"==typeof e||ea(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},aa=Zt,ra=ta;var oa=function(e,t){for(var a=0,r=(t=aa(t,e)).length;null!=e&&a<r;)e=e[ra(t[a++])];return a&&a==r?e:void 0};const la=t((function(e,t,a){var r=null==e?void 0:oa(e,t);return void 0===r?a:r}));var na=Me,ia=function(){try{var e=na(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var ua=function(e,t,a){"__proto__"==t&&ia?ia(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a},sa=lt,da=Object.prototype.hasOwnProperty;var ca=/^(?:0|[1-9]\d*)$/;var ma=function(e,t,a){var r=e[t];da.call(e,t)&&sa(r,a)&&(void 0!==a||t in e)||ua(e,t,a)},pa=Zt,ya=function(e,t){var a=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==a||"symbol"!=a&&ca.test(e))&&e>-1&&e%1==0&&e<t},fa=_e,va=ta;var ba=function(e,t,a,r){if(!fa(e))return e;for(var o=-1,l=(t=pa(t,e)).length,n=l-1,i=e;null!=i&&++o<l;){var u=va(t[o]),s=a;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=n){var d=i[u];void 0===(s=r?r(d,u,i):void 0)&&(s=fa(d)?d:ya(t[o+1])?[]:{})}ma(i,u,s),i=i[u]}return e};const ha=t((function(e,t,a){return null==e?e:ba(e,t,a)}));const _a=n(a({name:"AutoFormItem",components:{VueMonaco:q,VueRender:r},props:{item:{type:Object,required:!0},model:{type:Object,required:!0}},setup(e,{emit:t}){const{item:a,model:r}=o(e),n=(e,t)=>e.__v_isRef?`value.${t}`:t,i=l({get:()=>la(r.value,n(r.value,a.value.key)),set(e){ha(r.value,n(r.value,a.value.key),e)}});return{AutoFormItemType:W,dynamicValue:i}}}),[["render",function(e,t,a,r,o,l){const n=O,$=k,N=T,z=i("VueMonaco"),L=i("VueRender"),M=j,x=A,B=I,D=U,K=C,G=P,H=F,q=E,W=R,X=w,J=S;return u(),s(J,{label:e.item.label,prop:e.item.key,class:V(["auto-form-item",[e.item.cls]]),style:g(e.item.style||{width:e.item.width})},d({default:c((()=>[e.item.type===e.AutoFormItemType.INPUT?(u(),s(n,p({key:0,modelValue:e.dynamicValue,"onUpdate:modelValue":t[0]||(t[0]=t=>e.dynamicValue=t),placeholder:e.item.placeholder,disabled:e.item.disabled},e.item.props),null,16,["modelValue","placeholder","disabled"])):e.item.type===e.AutoFormItemType.INPUT_NUMBER?(u(),s($,p({key:1,modelValue:e.dynamicValue,"onUpdate:modelValue":t[1]||(t[1]=t=>e.dynamicValue=t),placeholder:e.item.placeholder,disabled:e.item.disabled,controls:!1},e.item.props),null,16,["modelValue","placeholder","disabled"])):e.item.type===e.AutoFormItemType.INPUT_AUTOCOMPLETE?(u(),s(N,p({key:2,modelValue:e.dynamicValue,"onUpdate:modelValue":t[2]||(t[2]=t=>e.dynamicValue=t),placeholder:e.item.placeholder,disabled:e.item.disabled},e.item.props),null,16,["modelValue","placeholder","disabled"])):e.item.type===e.AutoFormItemType.MONACO_EDITOR?(u(),s(z,p({key:3,modelValue:e.dynamicValue,"onUpdate:modelValue":t[3]||(t[3]=t=>e.dynamicValue=t),placeholder:e.item.placeholder,disabled:e.item.disabled,"show-line-numbers":""},e.item.props),null,16,["modelValue","placeholder","disabled"])):e.item.type===e.AutoFormItemType.SELECT?(u(),s(x,p({key:4,modelValue:e.dynamicValue,"onUpdate:modelValue":t[4]||(t[4]=t=>e.dynamicValue=t),placeholder:e.item.placeholder,class:"full-width",disabled:e.item.disabled},e.item.props),{default:c((()=>[e.item.selectOptionRender?(u(),s(L,{key:0,"render-fn":e.item.selectOptionRender,params:e.item},null,8,["render-fn","params"])):(u(!0),y(v,{key:1},f(e.item.options,(e=>(u(),s(M,{key:e.value,label:e.label,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])))),128))])),_:1},16,["modelValue","placeholder","disabled"])):e.item.type===e.AutoFormItemType.COLOR_PICKER?(u(),s(B,p({key:5,modelValue:e.dynamicValue,"onUpdate:modelValue":t[5]||(t[5]=t=>e.dynamicValue=t),disabled:e.item.disabled},e.item.props),null,16,["modelValue","disabled"])):e.item.type===e.AutoFormItemType.BUTTON?(u(),s(D,p({key:6,onClick:e.item.clickHandler,disabled:e.item.disabled},e.item.props),{default:c((()=>[b(h(e.item.placeholder),1)])),_:1},16,["onClick","disabled"])):e.item.type===e.AutoFormItemType.DATE_PICKER?(u(),s(K,p({key:7,modelValue:e.dynamicValue,"onUpdate:modelValue":t[6]||(t[6]=t=>e.dynamicValue=t),disabled:e.item.disabled},e.item.props),null,16,["modelValue","disabled"])):e.item.type===e.AutoFormItemType.CHECKBOX_GROUP?(u(),s(H,p({key:8,modelValue:e.dynamicValue,"onUpdate:modelValue":t[7]||(t[7]=t=>e.dynamicValue=t),disabled:e.item.disabled},e.item.props),{default:c((()=>[(u(!0),y(v,null,f(e.item.options||e.item.props.options,((e,t)=>(u(),s(G,{key:t,value:e.value},{default:c((()=>[b(h(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},16,["modelValue","disabled"])):e.item.type===e.AutoFormItemType.SWITCH?(u(),s(q,p({key:9,modelValue:e.dynamicValue,"onUpdate:modelValue":t[8]||(t[8]=t=>e.dynamicValue=t),disabled:e.item.disabled},e.item.props),null,16,["modelValue","disabled"])):e.item.type===e.AutoFormItemType.RADIO_GROUP?(u(),s(X,{key:10,disabled:e.item.disabled,modelValue:e.dynamicValue,"onUpdate:modelValue":t[9]||(t[9]=t=>e.dynamicValue=t)},{default:c((()=>[(u(!0),y(v,null,f(e.item.options||e.item.props.options,((e,t)=>(u(),s(W,{key:t,value:e.value},{default:c((()=>[b(h(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["disabled","modelValue"])):_("",!0),e.item.render?(u(),s(L,{key:11,"render-fn":e.item.render},null,8,["render-fn"])):_("",!0)])),_:2},[e.item.renderLabel?{name:"label",fn:c((({label:t})=>[m(L,{"render-fn":e.item.renderLabel,label:t},null,8,["render-fn","label"])])),key:"0"}:void 0]),1032,["label","prop","class","style"])}]]),Va={class:"auto-form-loading-container"},ga=[x("div",{class:"loading-text vp-panel"},"Loading...",-1)],Oa={class:"form-content-wrap"},ka={key:0,class:"auto-form-actions"},Ta=a({name:"AutoFormElPlus",props:{formSchema:{},hideActions:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},emits:["onInvalidForm","onSubmit","onMounted","onBeforeUnmount"],setup(e,{expose:t,emit:a}){const r=e,l=a,{formSchema:n}=o(r),i=$(),d=()=>{i.value.validate((async e=>{if(!e)return console.log("Invalid form"),void l("onInvalidForm");console.log("onSubmit",n.value.model),l("onSubmit",n.value.model)}))};return N((()=>{l("onMounted",i.value)})),z((()=>{l("onBeforeUnmount",i.value)})),t({formRef:i,AutoFormItemType:W,submitForm:d}),(e,t)=>{const a=U,r=H;return u(),s(r,p({ref_key:"formRef",ref:i,"label-width":D(n).labelWidth,model:D(n).model,rules:D(n).rules,"label-position":D(n).labelPosition,class:"auto-form-el-plus",onSubmit:G(d,["prevent"])},D(n).props,{disabled:e.isLoading}),{default:c((()=>[m(B,{name:"fade"},{default:c((()=>[L(x("div",Va,ga,512),[[M,e.isLoading]])])),_:1}),x("div",Oa,[(u(!0),y(v,null,f(D(n).formItems,((e,t)=>(u(),y(v,null,[Array.isArray(e)?(u(),y("div",{key:"g_"+t,class:V(["auto-form-grid",[`count-${e.length}`]]),style:g({gridTemplateColumns:`repeat(${e.length}, 1fr)`})},[(u(!0),y(v,null,f(e,(e=>(u(),y(v,null,["key"in e?(u(),s(_a,{key:e.key,item:e,model:D(n).model},null,8,["item","model"])):_("",!0)],64)))),256))],6)):"children"in e&&Array.isArray(e.children)?(u(),y("div",{key:"ag_"+t,class:V(["auto-form-grid",[`count-${e.cols}`]]),style:g({gridTemplateColumns:`repeat(${e.cols}, 1fr)`})},[(u(!0),y(v,null,f(e.children,(e=>(u(),s(_a,{key:e.key,item:e,model:D(n).model},null,8,["item","model"])))),128))],6)):"key"in e?(u(),s(_a,{key:t,item:e,model:D(n).model},null,8,["item","model"])):_("",!0)],64)))),256))]),e.hideActions?_("",!0):(u(),y("div",ka,[K(e.$slots,"actions",{submitForm:d},(()=>[m(a,{type:"primary",onClick:t[0]||(t[0]=e=>d())},{default:c((()=>[b("Submit")])),_:1})]))])),K(e.$slots,"default")])),_:3},16,["label-width","model","rules","label-position","disabled"])}}});export{W as A,Ta as _};
