import{d as e,r as s,aQ as a,O as t,q as l,c as n,bm as c,aa as i,aC as o,b as d,aG as r,h as u,N as v,a$ as m,bl as p,w as h,C as f,e as k,f as y,l as g,a as b,k as x,at as w,as as _,D as C,s as S,p as M,o as T,_ as q}from"./index-CQGI0j3m.js";import{u as D}from"./use-cursor-CVbmD1GN.js";const F=[c('<div class="apple-clock" id="utility-clock"><div class="clock-centre"><div class="dynamic"></div><div class="expand round circle-1"></div><div class="anchor hour"><div class="element thin-hand"></div><div class="element fat-hand"></div></div><div class="anchor minute"><div class="element thin-hand"></div><div class="element fat-hand minute-hand"></div></div><div class="anchor second"><div class="element second-hand"></div></div><div class="expand round circle-2"></div><div class="expand round circle-3"></div></div></div>',1)],N=e({__name:"AnalogClock",props:{},setup(e){const c=e=>{const s=(e,s)=>{e.style.transform=e.style.webkitTransform=`rotate(${6*s}deg)`},a=(e,s,a)=>{const t=2*s*Math.PI;e.style.top=(-a*Math.cos(t)).toFixed(1)+"px",e.style.left=(a*Math.sin(t)).toFixed(1)+"px"},t=e.querySelector(".dynamic"),l=e.querySelector(".hour"),n=e.querySelector(".minute"),c=e.querySelector(".second"),i=e=>e%5==0?(e=>{const s=document.createElement("div");s.className="minute-text",s.innerHTML=(e<10?"0":"")+e,a(s,e/60,135),t.appendChild(s)})(e):(e=>{const a=document.createElement("div");a.className="anchor";const l=document.createElement("div");l.className="element minute-line",s(a,e),a.appendChild(l),t.appendChild(a)})(e),o=e=>{const s=document.createElement("div");s.className="hour-text hour-"+e,s.innerHTML=e.toString(),a(s,e/12,105),t.appendChild(s)},d=()=>{const e=new Date,a=3600*e.getHours()+60*e.getMinutes()+e.getSeconds()+e.getMilliseconds()/1e3;s(c,a),s(n,a/60),s(l,a/60/12),requestAnimationFrame(d)};for(let r=1;r<=60;r++)i(r);for(let r=1;r<=12;r++)o(r);d()},i=s();return a(i,(e=>{const s=e[0],{width:a,height:t}=s.contentRect,l=Math.min(a,t)/300;((e,s=1)=>{const a=()=>{e.style.transform=e.style.webkitTransform=`scale(${s.toFixed(3)})`};a(),window.addEventListener("resize",a)})(i.value,l)})),t((()=>{c(i.value)})),(e,s)=>(l(),n("div",{ref_key:"rootRef",ref:i,class:"apple-clock-fill"},F,512))}}),E={class:"clock-centered"},H=e({__name:"DigitalClock",setup(e){const c=s(),v=s(32);a(c,(e=>{const s=e[0],{width:a,height:t}=s.contentRect;v.value=.14*a})),i.locale(navigator.language||"zh-CN");const m=s(""),p=s(null),h=s(""),f=s(""),k=()=>{const e=new Date;h.value=i(e).format("HH:mm:ss");const s=i(e).format("LL dddd");s!==m.value&&(f.value=s,m.value=s)};return t((()=>{k(),(e=>{const s=1e3;let a=Date.now()+s;const t=()=>{const l=Date.now()-a;l>s&&console.warn('something really bad happened. Maybe the browser (tab) was inactive?\npossibly special handling to avoid futile "catch up" run'),e(),a+=s,p.value=setTimeout(t,Math.max(0,s-l))};p.value=setTimeout(t,s)})(k)})),o((()=>{p.value&&clearTimeout(p.value)})),(e,s)=>(l(),n("div",{ref_key:"rootRef",ref:c,class:"digital-clock-wrapper"},[d("div",E,[d("h1",{style:r({fontSize:`${v.value}px`})},u(h.value),5),d("h2",{style:r({fontSize:v.value/2+"px"})},u(f.value),5)])],512))}}),L={class:"float-bar"},R={key:0,class:"btn-no-style",disabled:"",title:"Wakelock active"},z=[(e=>(M("data-v-c7b4c8f1"),e=e(),T(),e))((()=>d("span",{class:"mdi mdi-coffee"},null,-1)))],$={key:0,class:"mdi mdi-toggle-switch"},A={key:1,class:"mdi mdi-toggle-switch-off"},j={key:0,class:"mdi mdi-brightness-4"},I={key:1,class:"mdi mdi-brightness-7"},G={key:0,class:"mdi mdi-fullscreen"},O={key:1,class:"mdi mdi-fullscreen-exit"},P=q(e({name:"ScreenClock",setup(e){const a=s(),t=v("canos_clock_is_digital",!1),c=v("canos_clock_is_dark_text",!1),{isFullscreen:i,toggle:o}=m(a),{isSupported:r,isActive:u,request:M,release:T}=p();h(i,(e=>{r.value&&(e?M():T())})),f((()=>{T()}));const q=s(!1);return D(a,(({el:e,isShow:s})=>{q.value=s,i.value&&(e.style.cursor=s?"":"none")})),(e,s)=>(l(),n("div",{ref_key:"rootRef",ref:a,class:S(["screen-clock",{isFullscreen:b(i),darkText:b(c)}])},[k(_,{name:"fade"},{default:y((()=>[g(d("div",L,[b(u)?(l(),n("button",R,z)):x("",!0),d("button",{class:"btn-no-style",title:"Toggle Clock",onClick:s[0]||(s[0]=e=>t.value=!b(t))},[b(t)?(l(),n("span",$)):(l(),n("span",A))]),d("button",{class:"btn-no-style",title:"Dark Text",onClick:s[1]||(s[1]=e=>c.value=!b(c))},[b(c)?(l(),n("span",I)):(l(),n("span",j))]),d("button",{class:"btn-no-style",title:"Fullscreen",onClick:s[2]||(s[2]=(...e)=>b(o)&&b(o)(...e))},[b(i)?(l(),n("span",O)):(l(),n("span",G))])],512),[[w,b(q)]])])),_:1}),b(t)?(l(),C(H,{key:0})):(l(),C(N,{key:1}))],2))}}),[["__scopeId","data-v-c7b4c8f1"]]);export{P as default};
